(()=>{"use strict";var e={178:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(82)),l=n(i(400)),r=n(i(244)),a=n(i(620)),h=i(672),d=n(i(499)),c=n(i(35)),u=n(i(817)),p=n(i(67)),g=n(i(391)),m=n(i(414));class _ extends HTMLElement{constructor(){super(),this._editors=[],this._currentIndex=-1,this._sideBarVisible=!1,this._menuBar=this.buildMenuBar(),this._contentWrapper=this.buildContentWrapper(),this._sideBar=new l.default,this._splashScreen=new u.default,this._splashScreen.style.gridColumn="2",this._editorNames=new Set,this._contextMenu=null,this._modal=null,this._settingsView=null,this.appendChild(this._menuBar),this.appendChild(this._contentWrapper),this._contentWrapper.appendChild(this._sideBar),this._contentWrapper.appendChild(this._splashScreen),(0,s.applyStyles)(this,Object.assign(Object.assign({},d.default),{display:"grid",gridTemplateRows:"max-content 1fr",height:"100vh",backgroundColor:window.theme.app.bg})),this.addEventListener("new-editor-requested",this.onNewEditorRequested),this.addEventListener("switch-editor-requested",this.onSwitchEditorRequested),this.addEventListener("close-editor-requested",this.onCloseEditorRequested),this.addEventListener("show-tab-context-menu",this.onShowTabContextMenu),this.addEventListener("rename-editor-requested",this.onRenameEditorRequested),this.addEventListener("tab-moved",this.onTabMoved),this.addEventListener("line-height-changed",this.onLineHeightChanged),this.addEventListener("tab-size-changed",this.onTabSizeChanged),document.addEventListener("keydown",this.onKeyDown.bind(this))}openEditor(){const e=new o.default;this._editors.push(e)}buildMenuBar(){const e=document.createElement("div");(0,s.applyStyles)(e,Object.assign(Object.assign({},d.default),{gridRow:"1",display:"flex",alignItems:"center",padding:"0.5em",width:"100%",backgroundColor:window.theme.menuBar.bg}));const t=new a.default((0,h.buildFileExplorerIconSVG)(),"30px",!0),i=new r.default(t,(()=>{this._sideBarVisible?(this._sideBar.hide(),this._sideBarVisible=!1):(this._sideBar.show(),this._sideBarVisible=!0)}));e.appendChild(i);const n=new a.default((0,h.buildPlusIconSVG)(),"30px",!0),o=new r.default(n,(()=>{this.newEditor()}));e.appendChild(o);const l=new a.default((0,h.buildSettingsIconSVG)(),"30px",!0),c=new r.default(l,(()=>{this._settingsView||(this._settingsView=new m.default((e=>{var t;e.target===this._settingsView&&(null===(t=this._settingsView)||void 0===t||t.remove(),this._settingsView=null)}).bind(this)),this.appendChild(this._settingsView))}));return c.style.marginLeft="auto",e.appendChild(c),e}buildContentWrapper(){const e=document.createElement("div");return(0,s.applyStyles)(e,Object.assign(Object.assign({},d.default),{gridRow:"2",display:"grid",gridTemplateColumns:"max-content 1fr",overflow:"hidden",maxHeight:"100%"})),e}newEditor(){const e=new o.default;e.style.gridColumn="2",e.appendLine(""),this._currentIndex>=0?(this._editors[this._currentIndex].hide(),this._sideBar.unHighlightTabAtIndex(this._currentIndex)):this._splashScreen.hide(),this._currentIndex+=1,this._editors.splice(this._currentIndex,0,e),this._contentWrapper.appendChild(e),e.show();const t=this.generateEditorName();this._editorNames.add(t);const i=new c.default(t);i.highlight(),this._sideBar.addTabAtIndex(i,this._currentIndex),this._sideBar.show(),this._sideBarVisible=!0}generateEditorName(){let e=this._editors.length||1,t=null;for(;!t;){const i=`Editor-${e}`;this._editorNames.has(i)||(t=i),e++}return t}showEditorAtIndex(e){this._currentIndex<0&&this._splashScreen.hide(),this._editors[this._currentIndex].hide(),this._sideBar.unHighlightTabAtIndex(this._currentIndex),this._currentIndex=e,this._editors[this._currentIndex].show(),this._sideBar.highlightTabAtIndex(this._currentIndex)}closeEditorAtIndex(e){const t=this._editors.splice(e,1)[0];t.hide();const i=this._sideBar.getTabNameAtIndex(e);this._editorNames.delete(i),this._sideBar.removeTabAtIndex(e),t.remove(),(this._currentIndex>0||0===this._editors.length)&&this._currentIndex--,this._currentIndex>=0?this.showEditorAtIndex(this._currentIndex):this._splashScreen.show()}destroyContextMenu(){this._contextMenu&&(this._contextMenu.destroy(),this._contextMenu=null)}destroyModal(){this._modal&&(this._modal.destroy(),this._modal=null)}onNewEditorRequested(){this.newEditor()}onSwitchEditorRequested(e){const{index:t}=e.detail;t!==this._currentIndex&&this.showEditorAtIndex(t)}onCloseEditorRequested(e){const{index:t}=e.detail;this.closeEditorAtIndex(t)}onShowTabContextMenu(e){const{pageX:t,pageY:i,index:n,oldName:s}=e.detail;this.destroyContextMenu();const o=new p.default;o.addOption("Rename",(()=>{const e=new CustomEvent("rename-editor-requested",{bubbles:!0,detail:{index:n,oldName:s}});this.dispatchEvent(e)})),this.appendChild(o),this._contextMenu=o,this._contextMenu.show(t,i)}onRenameEditorRequested(e){const{index:t,oldName:i}=e.detail;this.destroyModal();const n=new g.default("Enter a new name for the editor:");n.addInput((e=>{const t=e.target.value;0!==t.length?this._editorNames.has(t)?n.lock():n.unlock():n.lock()}),i),n.addAction("Cancel",(()=>{this.destroyModal()})),n.addAction("Confirm",(()=>{if(n.valid){const e=n.inputValue;this._editorNames.delete(i),this._editorNames.add(e),this._sideBar.setTabNameAtIndex(t,e),this.destroyModal()}})),this._modal=n,this.appendChild(n)}onTabMoved(e){const{oldIndex:t,newIndex:i}=e.detail;this._editors[this._currentIndex].hide();const n=this._editors[t];this._editors.splice(t,1),this._editors.splice(i,0,n),this._currentIndex=i,this._editors[this._currentIndex].show(),this._sideBar.highlightTabAtIndex(this._currentIndex)}onLineHeightChanged(e){e.stopPropagation(),this._editors.forEach((e=>{e.refresh()}))}onTabSizeChanged(e){this._editors.forEach((e=>{e.updateStatusBar()}))}onKeyDown(e){e.ctrlKey&&"Space"===e.code&&(this._currentIndex<this._editors.length-1?this.showEditorAtIndex(this._currentIndex+1):this.showEditorAtIndex(0))}}customElements.define("editor-view",_),t.default=_},463:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this._line=0,this._col=0,this._currentLineCount=0,this._oldLineCount=0,this._selectionStart=null,this._selectionEnd=null}get line(){return this._line}get col(){return this._col}get currentLineCount(){return this._currentLineCount}set currentLineCount(e){this._oldLineCount=this._currentLineCount,this._currentLineCount=e}get oldLineCount(){return this._oldLineCount}get caret(){return{line:this.line,col:this.col}}get selectionStart(){return this._selectionStart}set selectionStart(e){this._selectionStart=e}get selectionEnd(){return this._selectionEnd}set selectionEnd(e){this._selectionEnd=e}updateCaretPos(e,t){this._line=e,this._col=t}}},67:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(181));class l extends HTMLElement{constructor(){super(),(0,s.applyStyles)(this,{display:"none",flexDirection:"column",position:"absolute",zIndex:"99",width:"200px",backgroundColor:window.theme.contextMenu.bg}),document.addEventListener("click",this.onClickAway.bind(this))}addOption(e,t){const i=new o.default(e,t);this.appendChild(i)}show(e,t){this.style.left=e+"px",this.style.top=t+"px",this.style.display="flex"}destroy(){this.remove(),document.removeEventListener("click",this.onClickAway)}onClickAway(e){this.destroy()}}customElements.define("context-menu",l),t.default=l},181:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e,t){super(),this.textContent=e,(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{padding:"5px",width:"100%",backgroundColor:"inherit",fontSize:"1em",color:window.theme.contextMenu.fg,cursor:"pointer"})),this.addEventListener("click",t),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave)}onMouseEnter(){this.style.backgroundColor=window.theme.contextMenu.highlightBg}onMouseLeave(){this.style.backgroundColor="inherit"}}customElements.define("context-menu-option",l),t.default=l},82:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(88)),l=n(i(95)),r=n(i(577)),a=n(i(499)),h=n(i(519));class d extends HTMLElement{constructor(){super(),this._scrollView=new o.default,this._contentWrapper=document.createElement("div"),this._margin=new l.default,this._textArea=new r.default,this._statusBar=new h.default,this._scrollView.addVerticalScrollBar(this._contentWrapper,15),this._scrollView.addHorizontalScrollBar(this._textArea,15),this._contentWrapper.appendChild(this._margin),this._contentWrapper.appendChild(this._textArea),this._scrollView.setContent(this._contentWrapper),this.appendChild(this._scrollView),this.appendChild(this._statusBar),(0,s.applyStyles)(this,Object.assign(Object.assign({},a.default),{display:"none",gridTemplateColumns:"1fr",gridTemplateRows:"1fr max-content",overflow:"hidden",width:"100%",maxHeight:"100%",backgroundColor:window.theme.editor.bg})),(0,s.applyStyles)(this._contentWrapper,Object.assign(Object.assign({},a.default),{display:"grid",gridTemplateColumns:"max-content 1fr",paddingTop:"5px",paddingRight:"5px",overflow:"hidden"})),this.addEventListener("no-line-selected",this.onNoLineSelected),this.addEventListener("line-count-changed",this.onLineCountChanged),this.addEventListener("unhighlight-line-number",this.onUnhighlightLineNumber),this.addEventListener("selection-changed",this.onSelectionChanged),this.addEventListener("caps-lock-changed",this.onCapsLockChanged)}show(){this.style.display="grid",this._textArea.current=!0}hide(){this.style.display="none",this._textArea.current=!1}refresh(){this._margin.refresh(),this._textArea.refresh()}appendLine(e){this._margin.appendLines(1),this._textArea.appendLine(e)}updateStatusBar(){this._statusBar.updateSpaces()}onNoLineSelected(e){e.stopPropagation(),this._margin.unHighlightLineNumbers()}onSelectionChanged(e){e.stopPropagation();const{line:t,col:i}=e.detail.caret;this._margin.highlightLineNumber(t),this._statusBar.updateCaretPos(t+1,i+1)}onUnhighlightLineNumber(e){e.stopPropagation();const{index:t}=e.detail;this._margin.unHighlightLineNumber(t)}onLineCountChanged(e){e.stopPropagation();const{delta:t}=e.detail;this._margin.updateLineNumbers(t)}onCapsLockChanged(e){const{capsOn:t}=e.detail;this._statusBar.updateCapsOn(t)}}customElements.define("custom-editor",d),t.default=d},620:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e,t,i){super(),this._svg=e,this.appendChild(e),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",width:t||"100%",minWidth:t||"100%",userSelect:"none"})),i&&t&&(0,s.applyStyles)(this,{height:t,minHeight:t})}setColor(e){const t=this.querySelectorAll(".stroke");Array.from(t).forEach((t=>{t.style.stroke=e}));const i=this.querySelectorAll(".fill");Array.from(i).forEach((t=>{t.style.fill=e}))}transform(e){this._svg.setAttribute("transform",e)}}customElements.define("textualize-icon",l),t.default=l},584:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(382),s=[{open:"(",close:")"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"'",close:"'"},{open:'"',close:'"'},{open:"`",close:"`"}];class o extends HTMLCanvasElement{constructor(e,t){super(),this._textArea=e,this._text=t,this._caretPos=0,this.height=window.configManager.lineHeight,this.tabIndex=0,this._focused=!1,this._selection=null,(0,n.applyStyles)(this,{display:"block",position:"relative",outline:"none",cursor:"text"}),this.addEventListener("blur",this.onBlur),this.addEventListener("focus",this.onFocus),this.addEventListener("keydown",this.onKeyDown),this.addEventListener("mousedown",this.onMouseDown),this.addEventListener("dblclick",this.onDblClick)}connectedCallback(){this.width=this._textArea.getBoundingClientRect().width,this.refresh(),new ResizeObserver((e=>{const{scrollWidth:t}=this._textArea,{width:i}=this._textArea.getBoundingClientRect();this.textWidth()<i?(this.clear(),this.width=i,this.drawText(),this._focused&&this.drawCaret()):this.textWidth()<t&&(this.clear(),this.width=t,this.drawText(),this._focused&&this.drawCaret())})).observe(this._textArea)}get text(){return this._text}focusAt(e){this.focus(),this._text.length<e?this.setCaretPos(this._text.length):this.setCaretPos(e),this.refresh(),this.drawCaret()}appendText(e){this._text+=e}insertText(e,t){const i=this._text.slice(0,t)+e+this._text.slice(t);this.setCaretPos(t+e.length),this.update(i)}refresh(){this.clear(),this.drawText(),this._focused&&this.drawCaret()}setText(e){this._text=e}textWidth(){return this.charWidth()*this._text.length}charWidth(){const e=this.getContext("2d");return e?(e.font=`normal ${this.fontSize()}px monospace`,e.measureText("0").width):0}selection(){if(this._selection)return this._selection()}drawSelection(e,t){this.clear(),this.drawText();const i=this.getContext("2d");i&&(i.fillStyle=window.theme.lineElement.fg+"55",this._text.length>0?i.fillRect(2+e*this.charWidth(),0,(t-e)*this.charWidth(),this.height):i.fillRect(2,0,this.charWidth(),this.height))}unHighlight(){this._focused=!1,(0,n.applyStyles)(this,{backgroundColor:"transparent"})}update(e){this.clear(),this.setText(e);const t=this.textWidth();t>this.width&&(this.width=t),this.drawText(),this._focused&&this.drawCaret()}fontSize(){return Math.round(.7*this.height)}drawText(){const e=this.getContext("2d");e&&(e.textBaseline="middle",e.font=`normal ${this.fontSize()}px monospace`,e.fillStyle=window.theme.lineElement.fg,e.fillText(this._text,2,this.height/2+.1*this.height))}clear(){const e=this.getContext("2d");e&&e.clearRect(0,0,this.width,this.height)}drawCaret(){const e=this.getContext("2d");if(e){e.beginPath();const t=this.getCaretPos()*this.charWidth()+2;e.moveTo(t,0),e.lineTo(t,this.height),e.lineWidth=2,e.strokeStyle=window.theme.lineElement.fg,e.stroke()}}setCaretPos(e){this._caretPos=e}getCaretPos(){return this._caretPos}onFocus(){this._focused=!0,(0,n.applyStyles)(this,{backgroundColor:window.theme.lineElement.highlightBg})}onBlur(){this._focused=!1,this.clear(),this.drawText(),(0,n.applyStyles)(this,{backgroundColor:"transparent"});const e=new CustomEvent("line-blurred",{bubbles:!0});this.dispatchEvent(e)}onKeyDown(e){if(e.preventDefault(),!this._focused)return;const t=this.getCaretPos();switch(e.key){case"Escape":return void this.handleEscapeKey();case"Enter":return void this.handleEnterKey();case"ArrowUp":return void this.handleArrowUpKey();case"ArrowDown":return void this.handleArrowDownKey();case"ArrowLeft":return void this.handleArrowLeftKey();case"ArrowRight":return void this.handleArrowRightKey();case"Backspace":return void(this._text?0===t?this.appendTextAndRemove():this.deletePreviousChar():this.requestLineRemoval());case"Delete":return void(this._text?t===this._text.length?this.deletePreviousChar():this.deleteFollowingChar():this.requestLineRemoval());case"Tab":return void this.handleTabKey();case"Shift":case"Alt":case"Control":return;case"CapsLock":const i=!e.getModifierState("CapsLock"),n=new CustomEvent("caps-lock-changed",{bubbles:!0,detail:{capsOn:i}});return void this.dispatchEvent(n)}e.ctrlKey||e.altKey||this.insertCharAtCaret(e.key)}onDblClick(e){const t=this.getCurrentWordBounds();this.blur();const i=new CustomEvent("set-selection",{bubbles:!0,detail:{start:t.start,end:t.end}});this.dispatchEvent(i);const n=()=>{this.blur();const e=new CustomEvent("set-selection",{bubbles:!0,detail:{start:0,end:this._text.length}});this.dispatchEvent(e)};this.addEventListener("click",n),setTimeout((()=>{this.removeEventListener("click",n)}),500)}onMouseDown(){const e=t=>{if(!this._textArea.selecting){this.clear(),this.drawText();const e=this.textWidth(),i=this.charWidth(),{pageX:n}=t,{left:s}=this.getBoundingClientRect(),o=n-s;e>o?this.setCaretPos(Math.round(o/i)):this.setCaretPos(Math.round(e/i)),this.drawCaret()}this.removeEventListener("mouseup",e)};this.dispatchLineSelected(),this.addEventListener("mouseup",e)}dispatchLineSelected(){const e=new CustomEvent("line-selected",{bubbles:!0,detail:{colIndex:this.getCaretPos()}});this.dispatchEvent(e)}dispatchLineChanged(){const e=new CustomEvent("line-changed",{bubbles:!0,detail:{newColIndex:this.getCaretPos(),newValue:this._text}});this.dispatchEvent(e)}handleEscapeKey(){this.blur();const e=new CustomEvent("no-line-selected",{bubbles:!0});this.dispatchEvent(e)}handleEnterKey(){const e=this.getCaretPos(),t=this._text.slice(0,e),i=this._text.slice(e);this._text=t;let n=!1;(function(e,t){for(let i of s)if(e===i.open&&t===i.close)return!0;return!1})(t.slice(-1),i[0])&&(n=!0);const o=new CustomEvent("new-line-requested",{bubbles:!0,detail:{textBeforeCaret:t,textAfterCaret:i,pair:n}});this.dispatchEvent(o)}handleArrowUpKey(){const e=new CustomEvent("move-caret-up",{bubbles:!0});this.dispatchEvent(e)}handleArrowDownKey(){const e=new CustomEvent("move-caret-down",{bubbles:!0});this.dispatchEvent(e)}handleArrowLeftKey(){const e=new CustomEvent("move-caret-left",{bubbles:!0});this.dispatchEvent(e)}handleArrowRightKey(){const e=new CustomEvent("move-caret-right",{bubbles:!0});this.dispatchEvent(e)}requestLineRemoval(){const e=new CustomEvent("line-removal-requested",{bubbles:!0});this.dispatchEvent(e)}appendTextAndRemove(){const e=new CustomEvent("append-text-to-previous-line",{bubbles:!0,detail:{text:this._text}});this.dispatchEvent(e),this.requestLineRemoval()}deleteFollowingChar(){const e=this.getCaretPos(),t=this._text.slice(0,e)+this._text.slice(e+1);this.update(t),this.dispatchLineChanged()}deletePreviousChar(){const e=this.getCaretPos(),t=this._text.slice(0,e-1)+this._text.slice(e);this.setCaretPos(e-1),this.update(t),this.dispatchLineChanged()}handleTabKey(){const e=this.getCaretPos(),t=this._text.slice(0,e),i=this._text.slice(e),n=" ".repeat(window.configManager.tabSize),s=t.length%n.length;if(0===i.length)this.setCaretPos(e+n.length),this.update(t+n);else{const o=s>0?" ".repeat(s):n;this.setCaretPos(e+o.length),this.update(t+o+i)}this.dispatchLineChanged()}insertCharAtCaret(e){const t=this.getCaretPos(),i=this._text.slice(0,t),n=this._text.slice(t),o=function(e){const t=s.filter((t=>t.open===e));return t.length>0?t[0]:null}(e);let l;l=window.configManager.pairing&&o?`${i}${o.open}${o.close}${n}`:`${i}${e}${n}`,this.setCaretPos(t+1),this.update(l),this.dispatchLineChanged()}getCurrentWordBounds(){const e=this._text;let t=this.getCaretPos();for(;" "!==e.charAt(t-1)&&0!==t;)t--;let i=this.getCaretPos();for(;" "!==e.charAt(i)&&i!==e.length;)i++;return{start:t,end:i}}}customElements.define("line-element",o,{extends:"canvas"}),t.default=o},25:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e){super(),this._highlighted=!1,this.textContent=e.toString(),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingLeft:"20px",paddingRight:"5px",minWidth:"70px",height:window.configManager.lineHeight+"px",border:"none",backgroundColor:"inherit",fontSize:window.configManager.fontSize+"px",color:window.theme.lineNumber.fg}))}highlighted(){return this._highlighted}highlight(){this._highlighted=!0,this.style.color=window.theme.lineNumber.highlightFg}unHighlight(){this._highlighted=!1,this.style.color=window.theme.lineNumber.fg}}customElements.define("editor-line-number",l),t.default=l},95:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499)),l=n(i(25));class r extends HTMLElement{constructor(){super(),this._lineNumbers=[],(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"block",paddingRight:"10px",height:"100%",backgroundColor:"inherit",userSelect:"none"}))}appendLines(e){for(let t=0;t<e;t++){const e=this.buildLineNumber(this._lineNumbers.length+1);this._lineNumbers.push(e),this.appendChild(e)}}updateLineNumbers(e){if(e>0)do{const t=this.buildLineNumber(this._lineNumbers.length+1);this._lineNumbers.push(t),this.appendChild(t),e--}while(e>0);if(e<0)do{const t=this._lineNumbers.pop();t&&t.remove(),e++}while(e<0)}highlightLineNumber(e){this._lineNumbers[e].highlight()}unHighlightLineNumber(e){var t;null===(t=this._lineNumbers[e])||void 0===t||t.unHighlight()}unHighlightLineNumbers(){this._lineNumbers.forEach((e=>{e.highlighted()&&e.unHighlight()}))}refresh(){this._lineNumbers.forEach((e=>{(0,s.applyStyles)(e,{height:window.configManager.lineHeight+"px",lineHeight:window.configManager.lineHeight+"px",fontSize:window.configManager.fontSize+"px"})}))}buildLineNumber(e){return new l.default(e)}}customElements.define("editor-margin",r),t.default=r},244:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e,t){super(),this._icon=e,this._icon.setColor(window.theme.menuBar.fg),this.appendChild(this._icon),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",alignItems:"center",padding:"0.5em",height:"100%",borderRadius:"3px",backgroundColor:"inherit",cursor:"pointer"})),this.addEventListener("click",t),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave)}onMouseEnter(){this.style.backgroundColor=window.theme.menuBar.highlightBg}onMouseLeave(){this.style.backgroundColor="inherit"}}customElements.define("menu-option",l),t.default=l},294:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(382);class s extends HTMLButtonElement{constructor(e,t){super(),this.textContent=e,(0,n.applyStyles)(this,{padding:"0.5em 1em",border:"none",borderRadius:"3px",outline:"none",marginLeft:"0.5em",backgroundColor:window.theme.modal.fg,fontSize:"1em",color:window.theme.modal.bg,cursor:"pointer"}),this.addEventListener("click",t)}}customElements.define("chromaticity-action",s,{extends:"button"}),t.default=s},264:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(382);class s extends HTMLInputElement{constructor(e,t){super(),t&&(this.value=t),(0,n.applyStyles)(this,{padding:"0 5px",height:"30px",border:`1px solid ${window.theme.modal.fg}`,borderRadius:"3px",outline:"none",margin:"1em 0",fontSize:"1em",color:window.theme.modal.fg}),this.addEventListener("blur",e),this.addEventListener("input",e)}}customElements.define("custom-input",s,{extends:"input"}),t.default=s},75:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e){super(),this._options=[],e.forEach((e=>{this._addOption(e)})),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",flexDirection:"column",height:"200px",width:"100%",border:`1px solid ${window.theme.modal.fg}`,borderRadius:"3px",margin:"1em auto"}))}_addOption(e){const t=document.createElement("div");t.textContent=e,t.title=e,this._options.push(t),this.appendChild(t),(0,s.applyStyles)(t,Object.assign(Object.assign({},o.default),{overflow:"hidden",padding:"5px",width:"100%",backgroundColor:window.theme.modal.bg,fontSize:"1em",wordWrap:"nowrap",textOverflow:"ellipsis",color:window.theme.modal.fg,cursor:"pointer"})),t.addEventListener("mouseenter",(()=>{t.classList.contains("selected")||(t.style.backgroundColor=window.theme.modal.fg,t.style.color=window.theme.modal.bg)})),t.addEventListener("mouseleave",(()=>{t.classList.contains("selected")||(t.style.backgroundColor=window.theme.modal.bg,t.style.color=window.theme.modal.fg)})),t.addEventListener("click",(()=>{this._options.forEach((e=>{e.classList.contains("selected")&&(e.classList.remove("selected"),e.style.backgroundColor=window.theme.modal.bg,e.style.color=window.theme.modal.fg)})),t.classList.add("selected"),t.style.backgroundColor=window.theme.modal.fg,t.style.color=window.theme.modal.bg;const i=new CustomEvent("selection-changed",{bubbles:!0,detail:{newValue:e}});this.dispatchEvent(i)}))}}customElements.define("custom-selector",l),t.default=l},391:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(264)),l=n(i(294)),r=n(i(499)),a=n(i(75));class h extends HTMLElement{constructor(e){super(),this._valid=!1,this._input=null,this._selector=null,this._selection=null,this._contentWrapper=document.createElement("div"),this._header=document.createElement("div"),this._header.textContent=e,this._body=document.createElement("div"),this._actions=document.createElement("div"),this.appendChild(this._contentWrapper),this._contentWrapper.appendChild(this._header),this._contentWrapper.appendChild(this._body),this._body.appendChild(this._actions),(0,s.applyStyles)(this,Object.assign(Object.assign({},r.default),{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",padding:"1em",backgroundColor:"#000000AA",userSelect:"none"})),(0,s.applyStyles)(this._contentWrapper,Object.assign(Object.assign({},r.default),{display:"flex",flexDirection:"column",width:"100%",maxWidth:"500px"})),(0,s.applyStyles)(this._header,Object.assign(Object.assign({},r.default),{padding:"1em",backgroundColor:window.theme.modal.fg,fontSize:"1em",color:window.theme.modal.bg})),(0,s.applyStyles)(this._body,Object.assign(Object.assign({},r.default),{display:"flex",flexDirection:"column",padding:"1em",backgroundColor:window.theme.modal.bg})),(0,s.applyStyles)(this._actions,Object.assign(Object.assign({},r.default),{display:"flex",justifyContent:"flex-end"})),this.addEventListener("selection-changed",(e=>{e.stopPropagation();const{newValue:t}=e.detail;this._selection=t,this._valid=!0}))}get valid(){return this._valid}get inputValue(){return this._input?this._input.value:""}get selection(){return this._selection}destroy(){this.remove()}lock(){this._valid=!1,this._input&&(0,s.applyStyles)(this._input,{borderColor:window.theme.error.fg,backgroundColor:window.theme.error.bg,color:window.theme.error.fg})}unlock(){this._valid=!0,this._input&&(0,s.applyStyles)(this._input,{borderColor:window.theme.modal.fg,backgroundColor:window.theme.modal.bg,color:window.theme.modal.fg})}addInput(e,t){this._input=new o.default(e,t),this._body.insertBefore(this._input,this._actions)}addSelector(e){this._selector=new a.default(e),this._body.insertBefore(this._selector,this._actions)}addAction(e,t){const i=new l.default(e,t);this._actions.appendChild(i)}}customElements.define("custom-modal",h),t.default=h},202:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(){super(),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{width:"3px",minWidth:"3px",height:"100%",backgroundColor:window.theme.sideBar.fg,cursor:"ew-resize"})),this.addEventListener("mousedown",this.onMouseDown)}onMouseDown(e){const t=this;let i=e.clientX;const n=function(e){const n=e.clientX-i,s=new CustomEvent("resize-handle-used",{bubbles:!0,detail:{deltaX:n}});t.dispatchEvent(s),i=e.clientX},s=function(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)}}customElements.define("resize-handle",l),t.default=l},371:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e,t,i,n){super(),this._thumbSize=0,this._actualThumbSize=0,this._mountEl=e,this._scrollEl=t,this._horizontal=i,this._mountResizeObserver=new ResizeObserver(this.resizeObserverCallback.bind(this)),this._mountResizeObserver.observe(this._mountEl),this._scrollResizeObserver=new ResizeObserver(this.resizeObserverCallback.bind(this)),this._scrollResizeObserver.observe(this._scrollEl),this._thumb=document.createElement("div"),this.appendChild(this._thumb),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",alignItems:"center",position:"sticky",backgroundColor:"inherit"})),(0,s.applyStyles)(this._thumb,Object.assign(Object.assign({},o.default),{display:"block",position:"absolute",borderRadius:"5px",cursor:"grab",backgroundColor:window.theme.scrollBar.bg})),this._horizontal?((0,s.applyStyles)(this,{bottom:"0px",width:"100%",height:`${n}px`,borderTop:"2px solid transparent",borderBottom:"2px solid transparent"}),(0,s.applyStyles)(this._thumb,{height:"100%"})):((0,s.applyStyles)(this,{right:"0px",width:`${n}px`,borderLeft:"2px solid transparent",borderRight:"2px solid transparent"}),(0,s.applyStyles)(this._thumb,{width:"100%"})),this._mountEl.addEventListener("wheel",this.onWheel.bind(this)),this._scrollEl.addEventListener("scroll",this.onScroll.bind(this)),this._thumb.addEventListener("mousedown",this.onMouseDown.bind(this))}connectedCallback(){this.updateThumb()}updateThumb(){const{scrollWidth:e,scrollHeight:t}=this._scrollEl,{clientWidth:i,clientHeight:n}=this._scrollEl,{clientWidth:s,clientHeight:o}=this;this._horizontal?(this.updateThumbSize(i,e,s),this._thumb.style.width=this._thumbSize+"px"):(this.updateThumbSize(n,t,o),this._thumb.style.height=this._thumbSize+"px"),this.toDisplayOrNotToDisplay()}updateThumbSize(e,t,i){this._actualThumbSize=e/t*i,this._actualThumbSize<40?this._thumbSize=40:this._thumbSize=this._actualThumbSize}resizeObserverCallback(e){e.forEach((()=>{this.updateThumb()}))}toDisplayOrNotToDisplay(){const{scrollWidth:e,scrollHeight:t,clientWidth:i,clientHeight:n}=this._scrollEl;this._horizontal?this.style.display=e>i?"flex":"none":this.style.display=t>n?"flex":"none"}onWheel(e){const{deltaX:t,deltaY:i}=e;t&&this._horizontal&&(this._scrollEl.scrollLeft+=t),i&&!this._horizontal&&(this._scrollEl.scrollTop+=i),this.updateThumb()}onScroll(){const{scrollTop:e,scrollLeft:t,scrollHeight:i,scrollWidth:n}=this._scrollEl,{clientWidth:s,clientHeight:o}=this;if(this._horizontal){const e=t/n*s;this._thumb.style.left=e+"px"}else{const t=e/i*o;this._thumb.style.top=t+"px"}this.updateThumb()}onMouseDown(e){let t=e.clientX,i=e.clientY;document.body.style.userSelect="none";const{clientWidth:n,clientHeight:s}=this;if(this._horizontal){const e=e=>{const i=(e.clientX-t)/n*this._scrollEl.scrollWidth;this._scrollEl.scrollLeft+=i,t=e.clientX},i=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i),document.body.style.userSelect="all"};document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}else{const e=e=>{const t=(e.clientY-i)/s*this._scrollEl.scrollHeight;this._scrollEl.scrollTop+=t,i=e.clientY},t=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.body.style.userSelect="all"};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)}}}customElements.define("custom-scroll-bar",l),t.default=l},88:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499)),l=n(i(371));class r extends HTMLElement{constructor(){super(),this._verticalScrollBar=null,this._horizontalScrollBar=null,(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"grid",gridTemplateColumns:"1fr max-content",gridTemplateRows:"1fr max-content",overflow:"hidden",position:"relative",maxWidth:"100%",backgroundColor:"inherit"}))}addHorizontalScrollBar(e,t){this._horizontalScrollBar=new l.default(this,e,!0,t),(0,s.applyStyles)(this._horizontalScrollBar,{gridRow:"2",gridColumn:"1"}),this.appendChild(this._horizontalScrollBar)}addVerticalScrollBar(e,t){this._verticalScrollBar=new l.default(this,e,!1,t),(0,s.applyStyles)(this._verticalScrollBar,{gridRow:"1",gridColumn:"2"}),this.appendChild(this._verticalScrollBar)}setContent(e){(0,s.applyStyles)(e,{gridRow:"1",gridColumn:"1"}),this.appendChild(e)}}customElements.define("scroll-view",r),t.default=r},345:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e,t,i){super(),this._value=e,this._checkbox=this.buildCheckBox(),this._states=i,this._stateDiv=this.buildStateDiv(),this.appendChild(this._stateDiv),this.append(this._checkbox),this._action=t,(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"space-between",userSelect:"none"}))}buildCheckBox(){const e=document.createElement("div");(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{width:"20px",height:"20px",border:`2px solid ${window.theme.settingsView.highlightFg}`,borderRadius:"50%",backgroundColor:window.theme.settingsView.bg}));const t=document.createElement("div");return(0,s.applyStyles)(t,Object.assign(Object.assign({},o.default),{display:this._value?"block":"none",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:window.theme.settingsView.fg})),e.appendChild(t),this.addEventListener("click",(()=>{this._value?(this._value=!1,t.style.display="none",this._stateDiv&&(this._stateDiv.textContent=this._states[0])):(this._value=!0,t.style.display="block",this._stateDiv&&(this._stateDiv.textContent=this._states[1])),this._action()})),e}buildStateDiv(){const e=document.createElement("div");return e.textContent=this._value?this._states[1]:this._states[0],(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{marginRight:"1em",fontSize:"1em",color:window.theme.settingsView.fg})),e}}customElements.define("setting-checkbox",l),t.default=l},524:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLInputElement{constructor(e,t){super(),this.value=e,(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{width:"100%",border:`1px solid ${window.theme.settingsView.fg}`,borderRadius:"3px",outline:"none",backgroundColor:"inherit"})),this.addEventListener("blur",t),this.addEventListener("keydown",(e=>{"Enter"===e.key&&this.blur()}))}showErrorStyles(){this.style.border="1px solid red",this.style.backgroundColor="#F5B7B1"}removeErrorStyles(){this.style.border=`1px solid ${window.theme.settingsView.fg}`,this.style.backgroundColor="inherit"}}customElements.define("setting-input",l,{extends:"input"}),t.default=l},123:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499)),l=n(i(346));class r extends HTMLElement{constructor(){super(),this._options=[],(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",flexDirection:"column",height:"100%",backgroundColor:window.theme.settingsView.fg}))}addOption(e,t){const i=new l.default(e,t);this.appendChild(i),this._options.push(i),setTimeout((()=>{1===this._options.length&&i.highlight()}))}}customElements.define("settings-menu",r),t.default=r},346:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e,t){super(),this.textContent=e,(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{padding:"0.5em 1em",width:"100%",backgroundColor:"inherit",color:window.theme.settingsView.bg,cursor:"pointer"})),this.addEventListener("click",t),this.addEventListener("click",this.highlight),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave)}highlight(){const e=this.closest("settings-menu");if(e){const t=e.querySelector("settings-menu-option.current");t&&t.removeHighlight(),this.classList.add("current"),(0,s.applyStyles)(this,{backgroundColor:window.theme.settingsView.highlightFg})}}removeHighlight(){this.classList.remove("current"),(0,s.applyStyles)(this,{backgroundColor:"inherit"})}onMouseEnter(){this.classList.contains("current")||(0,s.applyStyles)(this,{backgroundColor:window.theme.settingsView.highlightFg})}onMouseLeave(){this.classList.contains("current")||(0,s.applyStyles)(this,{backgroundColor:"inherit"})}}customElements.define("settings-menu-option",l),t.default=l},900:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(){super(),this._sections=[],(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"none",flexDirection:"column",overflowY:"scroll",padding:"1em",width:"100%"}))}hide(){this.style.display="none"}show(){this.style.display="flex"}addSection(e){this.appendChild(e),this._sections.push(e)}}customElements.define("settings-page",l),t.default=l},138:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(e){super(),this._heading=document.createElement("h2"),this._heading.textContent=e,this._input=null,this._checkbox=null,this._selector=null,this.appendChild(this._heading),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",flexDirection:"column",padding:"10px",width:"100%",marginBottom:"1em"})),(0,s.applyStyles)(this._heading,Object.assign(Object.assign({},o.default),{paddingBottom:"10px",width:"100%",margin:"0",marginBottom:"1em",color:window.theme.settingsView.fg}))}setInput(e){this.appendChild(e),this._input=e}setCheckbox(e){this.appendChild(e),this._checkbox=e}setSelector(e){this.appendChild(e),this._selector=e}}customElements.define("settings-page-section",l),t.default=l},414:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(123)),l=n(i(900)),r=n(i(138)),a=n(i(524)),h=n(i(345));class d extends HTMLElement{constructor(e){super(),this._contentWrapper=document.createElement("div"),this._menu=new o.default,this._menu.addOption("General",this.onGeneralSettingsOptionClick.bind(this)),this._generalPage=this.buildGeneralSettingsPage(),this._contentWrapper.appendChild(this._menu),this._contentWrapper.appendChild(this._generalPage),this.appendChild(this._contentWrapper),(0,s.applyStyles)(this,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",zIndex:"99",width:"100%",height:"100%",backgroundColor:"#000000AA"}),(0,s.applyStyles)(this._contentWrapper,{display:"flex",position:"relative",width:"50%",minWidth:"400px",height:"80%",minHeight:"300px",backgroundColor:window.theme.settingsView.bg}),this.addEventListener("click",e),this._generalPage.show()}buildGeneralSettingsPage(){const e=new l.default,t=new r.default("Editor Line Height"),i=new a.default(window.configManager.lineHeight.toString(),this.onEditorLineHeightInputBlur.bind(this));t.setInput(i),e.addSection(t);const n=new r.default("Tab Size"),s=new a.default(window.configManager.tabSize.toString(),this.onEditorTabSizeInputBlur.bind(this));n.setInput(s),e.addSection(n);const o=new r.default("Auto Indent"),d=new h.default(window.configManager.autoIndent,(()=>window.configManager.toggleAutoIndent()),["Off","On"]);o.setCheckbox(d),e.addSection(o);const c=new r.default("Pairing"),u=new h.default(window.configManager.pairing,(()=>window.configManager.togglePairing()),["Off","On"]);return c.setCheckbox(u),e.addSection(c),e}onGeneralSettingsOptionClick(){this._generalPage.show()}onEditorLineHeightInputBlur(e){const t=e.target,i=parseInt(t.value);if(NaN===i)return void t.showErrorStyles();if(i<10)return void t.showErrorStyles();if(i>40)return void t.showErrorStyles();t.removeErrorStyles(),window.configManager.lineHeight=i;const n=new CustomEvent("line-height-changed",{bubbles:!0});this.dispatchEvent(n)}onEditorTabSizeInputBlur(e){const t=e.target,i=parseInt(t.value);if(NaN===i)return void t.showErrorStyles();if(i<2)return void t.showErrorStyles();if(i>16)return void t.showErrorStyles();t.removeErrorStyles(),window.configManager.tabSize=i;const n=new CustomEvent("tab-size-changed",{bubbles:!0});this.dispatchEvent(n)}}customElements.define("settings-view",d),t.default=d},400:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499)),l=n(i(202)),r=n(i(88));class a extends HTMLElement{constructor(){super(),this._tabs=[],this._contentWrapper=this.buildContentWrapper(),this._resizeHandle=new l.default,this._scrollView=new r.default,this._scrollView.addVerticalScrollBar(this._contentWrapper,10),this._scrollView.setContent(this._contentWrapper),this.appendChild(this._scrollView),this.appendChild(this._resizeHandle),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"none",gridTemplateColumns:"1fr max-content",overflow:"hidden",position:"relative",width:"200px",height:"100%",backgroundColor:window.theme.sideBar.bg})),this.addEventListener("resize-handle-used",this.onResizeHandleUsed),this.addEventListener("tab-clicked",this.onTabClicked),this.addEventListener("close-button-clicked",this.onCloseButtonClicked),this.addEventListener("tab-context-menu",this.onTabContextMenu),this.addEventListener("move-tab",this.onMoveTab),this.showNoEditors()}show(){this.style.display="grid"}hide(){this.style.display="none"}addTabAtIndex(e,t){this.removeNoEditors();const i=this._tabs[t];i?this._contentWrapper.insertBefore(e,i):this._contentWrapper.appendChild(e),this._tabs.splice(t,0,e)}removeTabAtIndex(e){this._tabs.splice(e,1)[0].remove(),0===this._tabs.length&&this.showNoEditors()}highlightTabAtIndex(e){this._tabs[e].highlight()}unHighlightTabAtIndex(e){this._tabs[e].unHighlight()}getTabNameAtIndex(e){return this._tabs[e].name}setTabNameAtIndex(e,t){this._tabs[e].name=t}showNoEditors(){const e=document.createElement("p");e.textContent="No Open Editors",(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{textAlign:"center",color:window.theme.sideBar.fg})),this._contentWrapper.appendChild(e)}removeNoEditors(){var e;null===(e=this._contentWrapper.querySelector("p"))||void 0===e||e.remove()}buildContentWrapper(){const e=document.createElement("div");return(0,s.applyStyles)(e,{display:"flex",flexDirection:"column",overflow:"hidden",width:"100%",height:"100%"}),e}onResizeHandleUsed(e){const{deltaX:t}=e.detail,i=this.getBoundingClientRect().width+t;i>200&&(this.style.width=i+"px")}onTabClicked(e){e.stopPropagation();const t=e.target,i=this._tabs.indexOf(t),n=new CustomEvent("switch-editor-requested",{bubbles:!0,detail:{index:i}});this.dispatchEvent(n)}onCloseButtonClicked(e){e.stopPropagation();const t=e.target,i=this._tabs.indexOf(t),n=new CustomEvent("close-editor-requested",{bubbles:!0,detail:{index:i}});this.dispatchEvent(n)}onTabContextMenu(e){e.stopPropagation();const{pageX:t,pageY:i}=e.detail,n=e.target,s=this._tabs.indexOf(n),o=new CustomEvent("show-tab-context-menu",{bubbles:!0,detail:{index:s,oldName:n.name,pageX:t,pageY:i}});this.dispatchEvent(o)}onMoveTab(e){e.stopPropagation(),this._tabs.forEach((e=>e.unHighlight()));const{droppedName:t}=e.detail,i=this._tabs.filter((e=>e.name===t))[0],n=this._tabs.indexOf(i);this._tabs.splice(n,1),i.remove();const s=this._tabs.indexOf(e.target);this.addTabAtIndex(i,s);const o=new CustomEvent("tab-moved",{bubbles:!0,detail:{oldIndex:n,newIndex:s}});this.dispatchEvent(o)}}customElements.define("side-bar",a),t.default=a},817:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(){super();const e=document.createElement("h1");e.textContent="Watch this space!",this.appendChild(e);const t=document.createElement("p");t.textContent="I'm creating my own IDE with Electron.js ",t.textContent+="and I'm using this webpage to experiment with ",t.textContent+="an HTML canvas based plaintext editor for it.";const i=document.createElement("p");i.textContent="**This application won't work properly on your mobile**";const n=document.createElement("p");n.textContent="Copyright Robbie Neville 2022";const l=document.createElement("button");l.textContent="Give it a whirl!",l.addEventListener("click",(()=>{const e=new CustomEvent("new-editor-requested",{bubbles:!0});this.dispatchEvent(e)})),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",flexDirection:"column",alignItems:"center",padding:"1em"})),(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{textAlign:"center",color:window.theme.splashScreen.fg})),[t,i,n].forEach((e=>{this.appendChild(e),(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{maxWidth:"500px",fontSize:"1em",textAlign:"center",color:window.theme.splashScreen.fg}))})),(0,s.applyStyles)(l,{padding:"0.5em 1em",border:"none",borderRadius:"3px",backgroundColor:window.theme.splashScreen.fg,fontSize:"1em",color:window.theme.splashScreen.bg,cursor:"pointer"}),this.appendChild(l)}show(){this.style.display="flex"}hide(){this.style.display="none"}}customElements.define("splash-screen",l),t.default=l},519:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499));class l extends HTMLElement{constructor(){super(),this._caretPosDiv=this.buildCaretPosDiv(),this._spacesDiv=this.buildSpacesDiv(),this._capsDiv=this.buildCapsDiv(),this.appendChild(this._capsDiv),this.appendChild(this._spacesDiv),this.appendChild(this._caretPosDiv),(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"5px",width:"100%",height:"40px",backgroundColor:window.theme.editor.highlightBg}))}updateCaretPos(e,t){this._caretPosDiv.textContent=`${e} | ${t}`}updateCapsOn(e){this._capsDiv.textContent=e?"CAPS":"caps"}updateSpaces(){this._spacesDiv.textContent=`Tab(${window.configManager.tabSize})`}buildCaretPosDiv(){const e=document.createElement("div");return(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 0.5em",fontSize:"1em",color:window.theme.editor.fg})),e.textContent="1 | 1",e}buildSpacesDiv(){const e=document.createElement("div");return(0,s.applyStyles)(e,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 0.5em",fontSize:"1em",color:window.theme.editor.fg})),e.textContent=`Tab(${window.configManager.tabSize})`,e}buildCapsDiv(){const e=document.createElement("div");return(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 0.5em",fontSize:"1em",color:window.theme.editor.fg})),e.textContent="caps",e}}customElements.define("status-bar",l),t.default=l},35:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=i(672),l=n(i(499)),r=n(i(620));class a extends HTMLElement{constructor(e){super(),this.draggable=!0,this.title=e,this._name=e,this._current=!1,this._label=this.buildLabel(),this._label.textContent=e,this._closeButton=this.buildCloseButton(),this.appendChild(this._label),this.appendChild(this._closeButton),(0,s.applyStyles)(this,Object.assign(Object.assign({},l.default),{display:"flex",justifyContent:"space-between",potition:"relative",padding:"0.5em 1em",border:"1px solid transparent",fontSize:"1em",color:window.theme.sideBar.fg,cursor:"pointer"})),this.addEventListener("click",(()=>{const e=new CustomEvent("tab-clicked",{bubbles:!0});this.dispatchEvent(e)})),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("contextmenu",this.onContextMenu),this.addEventListener("dragstart",this.onDragStart),this.addEventListener("dragend",this.onDragEnd),this.addEventListener("dragover",this.onDragOver),this.addEventListener("dragenter",this.onDragEnter),this.addEventListener("dragleave",this.onDragLeave),this.addEventListener("drop",this.onDrop)}get name(){return this._name}set name(e){this._name=e,this.title=e,this._label.textContent=e}highlight(){this._current=!0,this.style.backgroundColor=window.theme.sideBar.highlightBg}unHighlight(){this._current=!1,this.style.backgroundColor="inherit"}onMouseEnter(){this._current||(this.style.backgroundColor=window.theme.sideBar.highlightBg)}onMouseLeave(){this._current||(this.style.backgroundColor="inherit")}buildLabel(){const e=document.createElement("label");return(0,s.applyStyles)(e,{overflowX:"hidden",fontSize:"1em",color:window.theme.sideBar.fg,whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}),e}buildCloseButton(){const e=document.createElement("button");(0,s.applyStyles)(e,Object.assign(Object.assign({},l.default),{display:"flex",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",border:"none",borderRadius:"3px",backgroundColor:window.theme.sideBar.bg,cursor:"pointer"}));const t=new r.default((0,o.buildCloseIconSVG)(),"10px",!0);return t.setColor(window.theme.sideBar.fg),e.appendChild(t),e.addEventListener("click",(()=>{const e=new CustomEvent("close-button-clicked",{bubbles:!0});this.dispatchEvent(e)})),e}onContextMenu(e){const{pageX:t,pageY:i}=e,n=new CustomEvent("tab-context-menu",{bubbles:!0,detail:{pageX:t,pageY:i}});this.dispatchEvent(n)}onDragStart(e){var t;this.style.opacity="0.4",null===(t=e.dataTransfer)||void 0===t||t.setData("text",this._name)}onDragEnd(e){this.style.opacity="1"}onDragOver(e){e.preventDefault()}onDragEnter(e){this.style.borderColor=window.theme.sideBar.fg}onDragLeave(e){this.style.borderColor="transparent"}onDrop(e){var t;e.stopPropagation(),this.style.borderColor="transparent";const i=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text");if(i){const e=new CustomEvent("move-tab",{bubbles:!0,detail:{droppedName:i}});this.dispatchEvent(e)}}}customElements.define("custom-tab",a),t.default=a},577:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(499)),l=n(i(463)),r=n(i(584));class a extends HTMLElement{constructor(){super(),this._lineManager=new l.default,this._lines=[],this._lineElements=[],this._selecting=!1,this._current=!1,this._focused=!1,(0,s.applyStyles)(this,Object.assign(Object.assign({},o.default),{position:"relative",overflowX:"hidden",height:"100%",maxWidth:"100%",backgroundColor:"inherit"})),this.addEventListener("no-line-selected",this.onNoLineSelected),this.addEventListener("line-selected",this.onLineSelected),this.addEventListener("line-blurred",this.onLineBlurred),this.addEventListener("line-changed",this.onLineChanged),this.addEventListener("new-line-requested",this.onNewLineRequested),this.addEventListener("line-removal-requested",this.onLineRemovalRequested),this.addEventListener("append-text-to-previous-line",this.onAppendTextToPreviousLine),this.addEventListener("move-caret-up",this.onMoveCaretUp),this.addEventListener("move-caret-down",this.onMoveCaretDown),this.addEventListener("move-caret-left",this.onMoveCaretLeft),this.addEventListener("move-caret-right",this.onMoveCaretRight),this.addEventListener("mousedown",this.onMouseDown),this.addEventListener("scroll-to-line-end",this.onScrollToLineEnd),this.addEventListener("insert-text-requested",this.onInsertTextRequested),this.addEventListener("set-selection",this.onSetSelection),document.addEventListener("keydown",this.onKeyDown.bind(this)),this.addEventListener("mousedown",(e=>{e.stopPropagation(),this._focused=!0})),document.addEventListener("mousedown",(()=>{this._focused=!1}).bind(this))}get selecting(){return this._selecting}set current(e){this._current=e}get tab(){return" ".repeat(window.configManager.tabSize)}refresh(){this._lineElements.forEach((e=>{e.height=window.configManager.lineHeight,e.refresh()}))}appendLine(e){const t=this.buildLine(e);this._lines.push(e),this._lineElements.push(t),this.appendChild(t),this._lineManager.currentLineCount=this._lineManager.currentLineCount+1}addLine(e,t){const i=this.buildLine(e);void 0!==t?(this._lines.splice(t,0,e),this._lineElements.splice(t,0,i),this.insertBefore(i,this.children[t])):(this._lines.push(e),this._lineElements.push(i),this.appendChild(i)),this._lineManager.currentLineCount=this._lineManager.currentLineCount+1,this.dispatchLineCountChanged()}buildLine(e){return new r.default(this,e)}setCaret(e,t){this._lineManager.updateCaretPos(e,t),this.dispatchSelectionChanged()}selectionStart(){return this._lineManager.selectionStart}setSelectionStart(e,t){this._lineManager.selectionStart=void 0===e||void 0===t?null:{line:e,col:t}}selectionEnd(){return this._lineManager.selectionEnd}setSelectionEnd(e,t){this._lineManager.selectionEnd=void 0===e||void 0===t?null:{line:e,col:t}}clearSelection(){const e=this.selectionStart(),t=this.selectionEnd();if(null!==e&&null!==t){let i;i=e.line<t.line?this._lineElements.slice(e.line,t.line+1):e.line>t.line?this._lineElements.slice(t.line,e.line+1):[this._lineElements[e.line]],i.forEach((e=>{e.refresh()}))}this.setSelectionStart(),this.setSelectionEnd()}dispatchSelectionChanged(){const e=new CustomEvent("selection-changed",{bubbles:!0,detail:{caret:this._lineManager.caret}});this.dispatchEvent(e)}dispatchLineCountChanged(e){const t=new CustomEvent("line-count-changed",{bubbles:!0,detail:{delta:e||this._lineManager.currentLineCount-this._lineManager.oldLineCount}});this.dispatchEvent(t)}dispatchContentChanged(e,t){const i=new CustomEvent("content-changed",{bubbles:!0,detail:{lineIndex:e,removed:t}});this.dispatchEvent(i)}onNoLineSelected(){this.setCaret(-1,-1)}onLineSelected(e){e.stopPropagation(),this._selecting||this.clearSelection();const t=e.target,{colIndex:i}=e.detail,n=this._lineElements.indexOf(t);this.setCaret(n,i)}onLineBlurred(e){e.stopPropagation();const t=e.target,i=this._lineElements.indexOf(t),n=new CustomEvent("unhighlight-line-number",{bubbles:!0,detail:{index:i}});this.dispatchEvent(n)}onLineChanged(e){e.stopPropagation(),this.clearSelection();const t=e.target,{newColIndex:i,newValue:n}=e.detail,s=this._lineElements.indexOf(t);this._lines[s]=n,this.setCaret(s,i),this.dispatchContentChanged(s,!1)}onNewLineRequested(e){e.stopPropagation(),this.clearSelection();const{textBeforeCaret:t,textAfterCaret:i,pair:n}=e.detail,{line:s}=this._lineManager.caret;this._lines[s]=t;const o=s+1;let l=this.getIndentation(t);if(n&&window.configManager.autoIndent){this.addLine(l+this.tab,o);const e=(l+this.tab).length;this.setCaret(o,e),this.addLine(l+i,o+1),this._lineElements[o].focusAt(e)}else{this.addLine(l+i,o);const e=l.length;this.setCaret(o,e),this._lineElements[o].focusAt(e)}}onLineRemovalRequested(e){e.stopPropagation(),this.clearSelection();const t=e.target,i=this._lineElements.indexOf(t);i>0&&this.removeLineAtIndex(i)}onAppendTextToPreviousLine(e){var t;e.stopPropagation(),this.clearSelection();const i=e.target,{text:n}=e.detail,s=this._lineElements.indexOf(i);if(s>0){const e=s-1,i=this._lineElements[e],o=i&&(null===(t=i.text)||void 0===t?void 0:t.length);this._lines[e]+=n,i.appendText(n),this.dispatchContentChanged(e,!1),setTimeout((()=>{this.setCaret(e,o||0),i.focusAt(o||0)}))}}onMoveCaretUp(e){e.stopPropagation(),this.clearSelection();const{line:t,col:i}=this._lineManager.caret;if(t>0){const e=t-1,n=this._lineElements[e];let s=i;n&&n.text.length<i&&(s=n.text.length),this.setCaret(e,s),n.focusAt(s)}}onMoveCaretDown(e){e.stopPropagation(),this.clearSelection();const{line:t,col:i}=this._lineManager.caret;if(t<this._lineManager.currentLineCount-1){const e=t+1,n=this._lineElements[e];let s=i;n&&n.text.length<i&&(s=n.text.length),this.setCaret(e,s),n.focusAt(s)}}onMoveCaretLeft(e){e.stopPropagation(),this.clearSelection();const{col:t,line:i}=this._lineManager.caret;if(t>0){const e=t-1,n=this._lineElements[i];this.setCaret(i,e),n.focusAt(e)}}onMoveCaretRight(e){e.stopPropagation(),this.clearSelection();const{col:t,line:i}=this._lineManager.caret,n=this._lineElements[i];if(n.text&&t<n.text.length){const e=t+1;this.setCaret(i,e),n.focusAt(e)}}onMouseDown(e){if(e.target===this)return void this.clearSelection();const{pageX:t}=e;let i=e.pageY;const n=e.target,s=this._lineElements.indexOf(n),o=n.getBoundingClientRect().left;let l=Math.round((t-o)/n.charWidth());l>n.text.length&&(l=n.text.length),this.setSelectionStart(s,l),this.setSelectionEnd(s,l);const r=e=>{if(e.target===this)return;n.blur(),this._selecting=!0;const{pageX:t,pageY:l}=e,r=e.target,a=this._lineElements.indexOf(r);let h=Math.round((t-o)/r.charWidth());h>r.text.length&&(h=r.text.length),this.setSelectionEnd(a,h);const d=this.selectionStart(),c=this.selectionEnd();if(d&&c){const e=l-i;if(a===s){r.drawSelection(d.col,c.col);const e=this._lineElements[s-1];e&&e.refresh();const t=this._lineElements[s+1];t&&t.refresh()}else if(e>0)if(a>s){const e=this._lineElements[a-1];e!==n?e.drawSelection(0,e.text.length):n.drawSelection(d.col,e.text.length),r.drawSelection(0,c.col)}else{const e=this._lineElements[a-1];e&&e!==n?e.refresh():e&&n.drawSelection(d.col,e.text.length),r.drawSelection(c.col,r.text.length)}else if(e<0)if(a<s){const e=this._lineElements[a+1];e!==n?e.drawSelection(0,e.text.length):n.drawSelection(0,d.col),r.drawSelection(c.col,r.text.length)}else{const e=this._lineElements[a+1];e&&e!==n?e.refresh():n.drawSelection(0,n.text.length),r.drawSelection(0,c.col)}}i=l},a=()=>{this._selecting=!1,this.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a.bind(this))};this.addEventListener("mousemove",r),document.addEventListener("mouseup",a.bind(this))}onScrollToLineEnd(e){}onKeyDown(e){if(!this._focused)return;if(!this._current)return;const t=this.selectionStart(),i=this.selectionEnd();switch(e.key){case"Backspace":case"Delete":return void this.deleteSelectedText();case"Enter":if(t&&i){this.deleteSelectedText();const e=this._lineManager.caret.line+1;this.addLine("",e),this.setCaret(e,0),this._lineElements[e].focusAt(0),this.dispatchContentChanged(e,!1)}return;case"Tab":return e.preventDefault(),void(e.shiftKey?this.removeTabFromSelection():this.addTabToSelection())}if(e.ctrlKey&&"a"===e.key)this.selectAll();else if(e.ctrlKey&&"c"===e.key)this.copySelectedText();else{if(e.ctrlKey&&"x"===e.key)return this.copySelectedText(),void this.deleteSelectedText();if(e.ctrlKey&&"v"===e.key&&window.navigator.clipboard.readText().then((e=>{e.length>0&&(this.deleteSelectedText(),this.pasteText(e))})).catch((e=>{console.log(e)})),!e.ctrlKey&&!e.altKey&&t&&i&&1===e.key.length){this.deleteSelectedText();const t=new CustomEvent("insert-text-requested",{bubbles:!0,detail:{text:e.key}});this.dispatchEvent(t)}}}onInsertTextRequested(e){const{text:t}=e.detail,{line:i,col:n}=this._lineManager.caret;this._lineElements[i].insertText(t,n)}getIndentation(e){if(window.configManager.autoIndent){const t=e.match(/^\s+/);if(t)return t[0]}return""}deleteSelectedText(){const e=this.selectionStart(),t=this.selectionEnd();if(e&&t){if(e.line===t.line){const i=e.line;e.col<t.col?(this.deleteTextFromLine(i,e.col,t.col),this.setCaret(i,e.col),this._lineElements[i].focusAt(e.col)):(this.deleteTextFromLine(i,t.col,e.col),this.setCaret(i,t.col),this._lineElements[i].focusAt(t.col))}else if(e.line<t.line){const i=t.line,n=this._lineElements[i];this.deleteTextFromLine(i,0,t.col);const s=n.text;this.removeLineAtIndex(i);let o=i-1;for(;o>e.line;)this.removeLineAtIndex(o),o--;const l=e.line,r=this._lineElements[l];this.deleteTextFromLine(l,e.col,r.text.length);const a=r.text.length;this.setCaret(l,a),this._lines[l]=r.text+s,r.update(r.text+s),r.focusAt(a)}else{const i=e.line,n=this._lineElements[i];this.deleteTextFromLine(i,0,e.col);const s=n.text;this.removeLineAtIndex(i);let o=i-1;for(;o>t.line;)this.removeLineAtIndex(o),o--;const l=t.line,r=this._lineElements[l];this.deleteTextFromLine(l,t.col,r.text.length);const a=r.text.length;this.setCaret(l,a),this._lines[l]=r.text+s,r.update(r.text+s),r.focusAt(a)}this.setSelectionStart(),this.setSelectionEnd()}}removeLineAtIndex(e){this._lineElements.splice(e,1)[0].remove(),this._lines.splice(e,1),this._lineManager.currentLineCount=this._lineManager.currentLineCount-1;const t=e-1,i=this._lineElements[t],n=i&&i.text.length;this.setCaret(t,n||0),i.focusAt(n||0),this.dispatchLineCountChanged(),this.dispatchContentChanged(t,!0)}copySelectedText(){const e=this.selectionStart(),t=this.selectionEnd();let i="";if(e&&t)if(e.line===t.line){const n=e.line;e.col<t.col?i+=this._lines[n].slice(e.col,t.col):i+=this._lines[n].slice(t.col,e.col)}else if(e.line<t.line){const n=e.line,s=t.line;i+=this._lines[n].slice(e.col)+"\n";let o=n+1;for(;o<s;)i+=this._lines[o]+"\n",o++;i+=this._lines[s].slice(0,t.col)}else{const n=t.line,s=e.line;i+=this._lines[n].slice(t.col)+"\n";let o=n+1;for(;o<s;)i+=this._lines[o]+"\n",o++;i+=this._lines[s].slice(0,e.col)}this.copyToClipboard(i)}deleteTextFromLine(e,t,i){const n=this._lines[e],s=n.slice(0,t)+n.slice(i);this._lines[e]=s,this._lineElements[e].update(s)}pasteText(e){const t=e.split("\n"),{line:i,col:n}=this._lineManager.caret;if(1===t.length){const t=this._lines[i].slice(0,n),s=t+e+this._lines[i].slice(n);this._lines[i]=s,this._lineElements[i].update(s);const o=t.length+e.length;this.setCaret(i,o),this._lineElements[i].focusAt(o)}else{const e=this._lines[i].slice(0,n),s=this._lines[i].slice(n);this._lines[i]=e+t[0],this._lineElements[i].update(e+t[0]),t.forEach(((e,n)=>{i+n!==i&&n<t.length-1&&this.addLine(e,i+n)}));const o=i+t.length-1,l=t[t.length-1]+s;this.addLine(l,o);const r=t[t.length-1].length;this.setCaret(o,r),this._lineElements[o].update(l),this._lineElements[o].focusAt(r)}}copyToClipboard(e){window.navigator.clipboard.writeText(e)}selectAll(){this._lineElements[this._lineManager.caret.line].blur();const e=this._lineManager.currentLineCount;this.setSelectionStart(0,0),this.setSelectionEnd(e-1,this._lines[e-1].length),this._lineElements.forEach((e=>{e.drawSelection(0,e.text.length)}))}addTabToSelection(){const e=this.selectionStart(),t=this.selectionEnd();if(e&&t){let i,n;if(e.line===t.line)return;e.line<t.line?(i=e.line,n=t.line):(i=t.line,n=e.line),this._lines.slice(i,n+1).forEach(((e,t)=>{const n=" ".repeat(window.configManager.tabSize)+e,s=i+t;this._lines[s]=n,this._lineElements[s].update(n),this._lineElements[s].drawSelection(0,this._lineElements[s].text.length)}))}}removeTabFromSelection(){const e=this.selectionStart(),t=this.selectionEnd();if(e&&t){let i,n;if(e.line===t.line)return;e.line<t.line?(i=e.line,n=t.line):(i=t.line,n=e.line),this._lines.slice(i,n+1).forEach(((e,t)=>{const n=i+t,s=this.getIndentation(e),o=Math.floor(s.length/window.configManager.tabSize),l=s.length%window.configManager.tabSize;let r;r=0===o?e.trimStart():" ".repeat((o-1)*window.configManager.tabSize)+" ".repeat(l)+e.trimStart(),this._lines[n]=r,this._lineElements[n].update(r),this._lineElements[n].drawSelection(0,this._lineElements[n].text.length)}))}}onSetSelection(e){const{start:t,end:i}=e.detail,n=this._lineElements.indexOf(e.target);this.setSelectionStart(n,t),this.setSelectionEnd(n,i),this._lineElements[n].drawSelection(t,i)}}customElements.define("editor-text-area",a),t.default=a},704:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const i="config";t.default=class{constructor(e){this._defaults=e;const t=this.load();t?this._current=t:(this._current=this._defaults,this.save())}get autoIndent(){return this._current.autoIndent}get pairing(){return this._current.pairing}get tabSize(){return this._current.tabSize}set tabSize(e){this._current.tabSize=e,this.save()}get lineHeight(){return this._current.lineHeight}set lineHeight(e){this._current.lineHeight=e}get fontSize(){return Math.round(.7*this._current.lineHeight)}toggleAutoIndent(){this._current.autoIndent=!this._current.autoIndent,this.save()}togglePairing(){this._current.pairing=!this._current.pairing,this.save()}save(){const e=JSON.stringify(this._current);window.localStorage.setItem(i,e)}load(){try{const e=window.localStorage.getItem(i);return e?JSON.parse(e):null}catch(e){return null}}}},40:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={autoIndent:!0,pairing:!0,tabSize:4,lineHeight:22}},275:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(704)),o=n(i(40)),l=new s.default(o.default);t.default=l},382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyStyles=void 0,t.applyStyles=function(e,t){for(let i in t)e.style[i]=t[i]}},672:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buildLogoSVG=t.buildFileIconSVG=t.buildSettingsIconSVG=t.buildFileExplorerIconSVG=t.buildScrollRightIconSVG=t.buildScrollLeftIconSVG=t.buildClosedIconSVG=t.buildPlusIconSVG=t.buildCloseIconSVG=void 0;const i="http://www.w3.org/2000/svg",n=[["stroke-linecap","round"],["stroke-linejoin","round"]],s=[{attributes:[...n,["d","M 50 0 L 50 100"],["class","stroke"],["stroke-width","20"]]},{attributes:[...n,["d","M 0 50 L 100 50"],["class","stroke"],["stroke-width","20"]]}],o=[{attributes:[...n,["d","M 0 0 L 100 100"],["class","stroke"],["stroke-width","20"]]},{attributes:[...n,["d","M 100 0 L 0 100"],["class","stroke"],["stroke-width","20"]]}],l=[{attributes:[...n,["d","M 25 0 L 25 100 L 75 50 L 25 0 Z"],["class","fill"]]}],r=[{attributes:[["d","M 100 0 L 0 50 L 100 100 L 100 0 Z"],["class","fill"]]}],a=[{attributes:[["d","M 0 0 L 100 50 L 0 100 L 0 0 Z"],["class","fill"]]}],h=[{attributes:[...n,["d","M 5 5 L 60 5 L 60 35 L 95 35 L 95 95 L 5 95 L 5 5 Z"],["class","stroke"],["fill","none"],["stroke-width","8"]]},{attributes:[...n,["d","M 60 5 L 95 35 L 60 35 L 60 5 Z"],["class","fill stroke"],["stroke-width","8"]]},{attributes:[...n,["d","M 20 50 L 80 50"],["class","stroke"],["stroke-width","8"]]},{attributes:[...n,["d","M 20 60 L 80 60"],["class","stroke"],["stroke-width","8"]]},{attributes:[...n,["d","M 20 70 L 80 70"],["class","stroke"],["stroke-width","8"]]}],d=[{attributes:[...n,["d","M 5 5 L 60 5 L 60 35 L 95 35 L 95 95 L 5 95 L 5 5 Z"],["class","stroke"],["fill","none"],["stroke-width","8"]]},{attributes:[...n,["d","M 60 5 L 95 35 L 60 35 L 60 5 Z"],["class","fill stroke"],["stroke-width","8"]]}],c=[{attributes:[["d","m 3.7444,0.17 0.043169,1.1537 -0.89401,0.37042 -0.78539,-0.84597 -1.2519,1.2519 0.84597,0.7854 -0.37042,0.89401 -1.1537,-0.04317 v 1.7713 l 1.1537,-0.04317 0.37042,0.89401 -0.84597,0.7854 1.2519,1.2519 0.78539,-0.84597 0.89401,0.37042 -0.043169,1.1537 h 1.7713 l -0.043169,-1.1537 0.89401,-0.37042 0.78539,0.84597 1.2519,-1.2519 -0.84597,-0.7854 0.37042,-0.89401 1.1537,0.04317 V 3.73629 L 7.928281,3.77946 7.557861,2.88545 8.403831,2.10005 7.151931,0.84815 6.366541,1.69412 5.472531,1.3237 5.5157,0.17 Z M 4.63006,2.1565 A 2.4658,2.4658 0 0 1 7.09556,4.622 2.4658,2.4658 0 0 1 4.63006,7.0875 2.4658,2.4658 0 0 1 2.16456,4.622 2.4658,2.4658 0 0 1 4.63006,2.1565 Z"],["class","fill"],["stroke-width","0.2"]]}],u=[{attributes:[["d","m 5.29,10.59 q -0.73725,0.10335 -1.3229,0.10335 -0.55121,0 -1.006,-0.19982 Q 2.51324,10.29371 2.23074,9.94921 2.01026,9.68738 1.90001,9.33599 1.78977,8.98459 1.77599,8.75033 1.76219,8.51606 1.76219,8.10265 v -3.7069 h -1.7639 V 3.52759 h 1.7639 v -1.7639 h 0.88194 v 1.7639 h 2.6458 v 0.86816 h -2.6458 v 3.638 q 0,0.37896 0.007,0.56499 0.0138,0.18604 0.0827,0.42719 0.0689,0.24115 0.20671,0.41341 0.35829,0.42719 1.0955,0.42719 0.4892,0 1.254,-0.10335 z"],["class","fill"]]},{attributes:[["d","M 10.99,4.465 Q 10.64549,4.24451 10.1494,4.24451 9.65331,4.24451 9.30191,4.465 8.9574,4.68548 8.80582,5.07822 8.66112,5.40895 8.61978,6.22892 h 3.0592 Q 11.63768,5.40899 11.49294,5.07822 11.34136,4.68548 10.98996,4.465 Z M 8.7714,3.80354 q 0.57188,-0.38585 1.378,-0.38585 0.80612,0 1.3711,0.38585 0.57189,0.38585 0.79926,0.99907 0.11714,0.29628 0.17226,0.69591 0.062,0.39963 0.0689,0.70969 0.0138,0.30317 0.0138,0.84749 h -3.9687 q 0,0.46853 0.007,0.72347 0.007,0.24805 0.0551,0.59944 0.0551,0.3514 0.15848,0.58566 0.39963,0.90261 1.4607,0.90261 0.79926,0 2.067,-0.14469 v 0.82682 q -1.254,0.14469 -2.067,0.14469 -0.85438,0 -1.44,-0.39963 Q 8.26163,9.89444 7.99981,9.25367 7.82066,8.81959 7.77243,8.3235 7.72423,7.82741 7.72423,7.0557 q 0,-0.54432 0.007,-0.84749 0.0138,-0.31006 0.0689,-0.70969 0.062,-0.39963 0.17915,-0.69591 0.22737,-0.61322 0.79237,-0.99907 z"],["class","fill"]]},{attributes:[["d","m 17.17,6.146 h 0.0689 l 1.5365,-2.6183 h 1.1507 l -2.2117,3.259 v 0.0689 l 2.3633,3.7276 H 18.9201 L 17.2389,7.4964 H 17.17 l -1.6812,3.0868 H 14.3313 L 16.6946,6.8556 V 6.7867 l -2.2117,-3.259 h 1.1507 z"],["class","fill"]]},{attributes:[["d","m 26.46,10.59 q -0.73725,0.10335 -1.3229,0.10335 -0.55121,0 -1.006,-0.19982 Q 23.68324,10.29371 23.40074,9.94921 23.18025,9.68738 23.07001,9.33599 22.95977,8.98459 22.94599,8.75033 22.93219,8.51606 22.93219,8.10265 v -3.7069 h -1.7639 V 3.52759 h 1.7639 v -1.7639 h 0.88194 v 1.7639 h 2.6458 v 0.86816 h -2.6458 v 3.638 q 0,0.37896 0.007,0.56499 0.0138,0.18604 0.0827,0.42719 0.0689,0.24115 0.20671,0.41341 0.35829,0.42719 1.0955,0.42719 0.48921,0 1.254,-0.10335 z"],["class","fill"]]},{attributes:[["d","m 31.17,10.693 q -0.49609,0 -0.9095,-0.19982 Q 29.84709,10.29336 29.57838,9.95575 29.40612,9.74215 29.30277,9.51478 29.19942,9.2874 29.15808,9.0118 q -0.0345,-0.27561 -0.0482,-0.45475 -0.007,-0.17914 -0.007,-0.50298 v -4.5268 h 0.88195 v 4.5268 q 0,0.37896 0.007,0.56499 0.0138,0.18603 0.0827,0.4203 0.0758,0.22738 0.22048,0.39963 0.37207,0.42719 1.0129,0.42719 0.64078,0 1.0128,-0.42719 0.1447,-0.17225 0.2136,-0.39963 0.0758,-0.23427 0.0827,-0.4203 0.0138,-0.18604 0.0138,-0.56499 v -4.5268 h 0.88194 v 7.0555 h -0.88194 v -0.7717 h -0.0689 q -0.25494,0.39963 -0.6339,0.64079 -0.37207,0.24116 -0.75792,0.24116 z"],["class","fill"]]},{attributes:[["d","m 39.69,7.055 h -1.3505 q -0.25493,0 -0.39963,0.01378 -0.1378,0.01378 -0.3514,0.10335 -0.21359,0.08268 -0.37896,0.25494 -0.38584,0.40652 -0.38584,1.068 0,0.58566 0.33072,0.9784 0.33762,0.39274 0.90951,0.39274 0.33072,0 0.58566,-0.09646 0.26183,-0.09646 0.42719,-0.24116 0.17225,-0.14469 0.28939,-0.37896 0.12402,-0.23427 0.17914,-0.43408 0.062,-0.2067 0.0965,-0.4892 0.0345,-0.2825 0.0413,-0.46164 0.007,-0.17914 0.007,-0.42719 z M 38.5876,3.417 q 0.59255,0 1.0404,0.18604 0.44786,0.17914 0.73725,0.68902 0.20671,0.36518 0.20671,1.13 v 5.1607 H 39.69002 V 9.73527 h -0.0689 q -0.6959,0.95773 -1.7225,0.95773 -0.82682,0 -1.3918,-0.62012 -0.565,-0.62012 -0.565,-1.5641 0,-0.99218 0.60634,-1.5985 0.22048,-0.2136 0.46853,-0.3514 0.24805,-0.1378 0.51676,-0.18603 0.27561,-0.05512 0.42719,-0.06201 0.15848,-0.01378 0.39274,-0.01378 h 1.3367 v -0.8406 q 0,-0.59944 -0.12403,-0.81304 Q 39.44892,4.4436 39.22843,4.34714 39.01484,4.24379 38.58765,4.24379 q -0.82682,0 -1.9844,0.14469 v -0.8406 q 1.1369,-0.13091 1.9844,-0.13091 z"],["class","fill"]]},{attributes:[["d","m 47.19,10.659 q -0.65456,0.03445 -0.95084,0.03445 -0.73725,0 -1.192,-0.46853 -0.23427,-0.24116 -0.3514,-0.5581 -0.11713,-0.32384 -0.1378,-0.50987 -0.0138,-0.19292 -0.0138,-0.49609 v -7.779 h 0.88194 v 7.779 q 0,0.2136 0.007,0.33073 0.007,0.11713 0.0482,0.2825 0.0482,0.16536 0.1378,0.28939 0.22738,0.30317 0.68902,0.30317 0.46853,0 0.88194,-0.03445 z"],["class","fill"]]},{attributes:[["d","m 52.14,0.985 q 0.21359,-0.2136 0.5581,-0.2136 0.34451,0 0.55811,0.2136 0.21359,0.2136 0.21359,0.5581 0,0.34451 -0.21359,0.5581 -0.2136,0.2136 -0.55811,0.2136 -0.34451,0 -0.5581,-0.2136 -0.2136,-0.2136 -0.2136,-0.5581 0,-0.34451 0.2136,-0.5581 z m 0.33762,9.598 V 4.3543 h -1.7639 V 3.52748 h 2.6458 v 7.0555 z"],["class","fill"]]},{attributes:[["d","M 57.03,4.354 V 3.52718 h 4.1341 V 4.1473 L 57.8913,9.687 v 0.0689 h 3.4106 v 0.82682 h -4.4097 v -0.6339 l 3.2728,-5.5259 v -0.0689 z"],["class","fill"]]},{attributes:[["d","m 67.43,4.465 q -0.34451,-0.22049 -0.8406,-0.22049 -0.49609,0 -0.84749,0.22049 -0.34451,0.22048 -0.49609,0.61322 -0.1447,0.33073 -0.18604,1.1507 h 3.0592 Q 68.07768,5.40899 67.93294,5.07822 67.78136,4.68548 67.42996,4.465 Z M 65.2114,3.80354 q 0.57188,-0.38585 1.378,-0.38585 0.80612,0 1.3711,0.38585 0.57189,0.38585 0.79926,0.99907 0.11714,0.29628 0.17226,0.69591 0.062,0.39963 0.0689,0.70969 0.0138,0.30317 0.0138,0.84749 h -3.9687 q 0,0.46853 0.007,0.72347 0.007,0.24805 0.0551,0.59944 0.0551,0.3514 0.15848,0.58566 0.39963,0.90261 1.4607,0.90261 0.79926,0 2.067,-0.14469 v 0.82682 q -1.254,0.14469 -2.067,0.14469 -0.85438,0 -1.44,-0.39963 -0.58567,-0.39963 -0.84749,-1.0404 -0.17915,-0.43408 -0.22738,-0.93017 -0.0482,-0.49609 -0.0482,-1.2678 0,-0.54432 0.007,-0.84749 0.0138,-0.31006 0.0689,-0.70969 0.062,-0.39963 0.17915,-0.69591 0.22737,-0.61322 0.79237,-0.99907 z"],["class","fill"]]},{attributes:[["d","m 71,0 h 6.6146 V 11.906 H 71 Z"],["class","fill"]]}];function p(e,t,n){const s=function(e,t){const n=document.createElementNS(i,"svg");return n.setAttribute("version","1.1"),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n}(t,n);return e.forEach((e=>{const t=function(e){const t=document.createElementNS(i,"path");for(let i of e.attributes)t.setAttribute(i[0],i[1]);return t}(e);s.appendChild(t)})),s}t.buildCloseIconSVG=function(){return p(o,100,100)},t.buildPlusIconSVG=function(){return p(s,100,100)},t.buildClosedIconSVG=function(){return p(l,100,100)},t.buildScrollLeftIconSVG=function(){return p(r,100,100)},t.buildScrollRightIconSVG=function(){return p(a,100,100)},t.buildFileExplorerIconSVG=function(){return p(h,100,100)},t.buildSettingsIconSVG=function(){return p(c,9.2604,9.2604)},t.buildFileIconSVG=function(){return p(d,100,100)},t.buildLogoSVG=function(){return p(u,77.611,11.906)}},607:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(382),o=n(i(275)),l=n(i(436)),r=n(i(499)),a=n(i(178));(0,s.applyStyles)(document.body,Object.assign(Object.assign({},r.default),{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"1fr",width:"100%",minHeight:"100vh",margin:"0px",userSelect:"none"})),document.addEventListener("contextmenu",(e=>{e.preventDefault()})),window.configManager=o.default,window.theme=l.default.defaultTheme;const h=new a.default;document.body.appendChild(h)},15:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={app:{bg:"#E5E8E8"},menuBar:{bg:"#17202A",fg:"#E5E8E8",highlightBg:"#273746"},sideBar:{bg:"#273746",fg:"#B2BABB",highlightBg:"#34495E"},splashScreen:{fg:"#212F3D",bg:"#E5E8E8"},editor:{bg:"#212F3D",highlightBg:"#2C3E50",fg:"#E5E8E8"},scrollBar:{bg:"#B2BABB"},lineNumber:{fg:"#B2BABB",highlightFg:"#E5E8E8"},lineElement:{fg:"#E5E8E8",highlightBg:"#273746"},contextMenu:{bg:"#E5E7E9",highlightBg:"#FFF",fg:"#000"},modal:{bg:"#E5E8E8",fg:"#212F3D"},error:{bg:"#F5B7B1",fg:"#C0392B"},success:{bg:"#ABEBC6",fg:"#145A32"},settingsView:{bg:"#E5E8E8",fg:"#212F3D",highlightFg:"#34495E"}}},436:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s={defaultTheme:n(i(15)).default};t.default=s},499:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={boxSizing:"border-box",fontFamily:"Arial",userSelect:"none"}}},t={};!function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}(607)})();